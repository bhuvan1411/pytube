{% extends 'channels/base.html' %}

{% block title %}Videos in {{ channel.name }}{% endblock %}

{% block content %}
<h2 style="text-align:center; color:#007BFF; margin-bottom:20px;">Videos in "{{ channel.name }}"</h2>

{% if videos %}
<div style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">
    {% for video in videos %}
    <div style="background:white; width:300px; padding:15px; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1); transition:transform 0.2s;">
        
        <h3 style="margin-top:0; color:#28a745;">{{ video.order }}. {{ video.title }}</h3>

        {% if video.thumbnail_url %}
            <a href="{% url 'videos:video_detail' video.id %}">
                <img src="{{ video.thumbnail_url }}" alt="{{ video.title }}" style="width:100%; border-radius:5px; margin-bottom:10px; object-fit:cover; height:180px;">
            </a>
        {% else %}
            <a href="{% url 'videos:video_detail' video.id %}">
                <div style="width:100%; height:180px; background:#eee; display:flex; align-items:center; justify-content:center; color:#aaa; border-radius:5px; margin-bottom:10px;">
                    No Thumbnail
                </div>
            </a>
        {% endif %}
        
        <p style="color:#555; font-size:14px; min-height:40px;">{{ video.description|truncatewords:20 }}</p>

        <div style="margin-top:10px;">
            <a href="{% url 'videos:video_detail' video.id %}" class="btn" style="background:#007BFF; margin-right:5px;">üé¨ View</a>
            {% if user == video.channel.owner %}
            <a href="{% url 'videos:video_edit' video.id %}" class="btn" style="background:orange; margin-right:5px;">‚úè Edit</a>
            <a href="{% url 'videos:video_delete' video.id %}" class="btn" style="background:red;">üóë Delete</a>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<p style="text-align:center; color:#555;">No videos in this channel yet. {% if user == channel.owner %} <a href="{% url 'videos:video_create' channel.id %}" style="color:#28a745;">Add one now</a>.{% endif %}</p>
{% endif %}

<div style="text-align:center; margin-top:20px;">
    <a href="{% url 'channels:detail' channel.id %}" class="btn" style="background:gray;">‚¨Ö Back to Channel</a>
</div>

<style>
    .btn {
        display: inline-block;
        padding: 6px 12px;
        border-radius:5px;
        text-decoration:none;
        color:white;
        font-weight:bold;
        font-size:14px;
    }
    .btn:hover {
        opacity:0.9;
        transform:translateY(-2px);
        transition:0.2s;
    }
    div:hover {
        transform: scale(1.03);
        transition: 0.2s;
    }
</style>
{% endblock %}
